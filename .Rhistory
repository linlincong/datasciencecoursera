col=c("blue","red"), pch=21:22, lty=1:2)
plot(1:3,meanij[,1],type='o',col='black',ylim = c(15,35),axes=FALSE,xlab='age',ylab='offer in hunderd dollars')
axis(1, at=1:3, lab=c("Yound","middle","old"))
plot(1:3,meanij[,1],type='o',col='black',ylim = c(15,35),xlab='age',ylab='offer in hunderd dollars')
axis(1, at=1:3, lab=c("Yound","middle","old"))
plot(1:3,meanij[,1],type='o',col='black',ylim = c(15,35),axes=FALSE,xlab='age',ylab='offer in hunderd dollars')
axis(1, at=1:3, lab=c("Yound","middle","old"))
axis(2, las=1, at=4*0:meanij[,1])
plot(1:3,meanij[,1],type='o',col='black',ylim = c(15,35),axes=FALSE,xlab='age',ylab='offer in hunderd dollars')
axis(1, at=1:3, lab=c("Yound","middle","old"))
axis(2, las=1, at=4*0:meanij[,1])
lines(1:3, meanij[,2],type ='o', pch=22, lty=2,col='black')
labels <- c("Fmale", "Male")
legend("topright",inset=0.05,title=NULL,labels,lty=c(1,1,1,1),col=colors)
plot(1:3,meanij[,1],type='o',col='black',ylim = c(15,35),axes=FALSE,xlab='age',ylab='offer in hunderd dollars')
axis(1, at=1:3, lab=c("Yound","middle","old"))
axis(2, las=1, at=4*0:meanij[,1])
lines(1:3, meanij[,2],type ='o', pch=22, lty=2,col='black')
labels <- c("Fmale", "Male")
legend("topright",inset=0.05,title=NULL,labels,lty=c(1,1),col=colors)
legend("topright",inset=0.05,title=NULL,labels,lty=c(1,1))
plot(1:3,meanij[,1],type='o',col='black',ylim = c(15,35),axes=FALSE,xlab='age',ylab='offer in hunderd dollars')
axis(1, at=1:3, lab=c("Yound","middle","old"))
axis(2, las=1, at=4*0:meanij[,1])
lines(1:3, meanij[,2],type ='o', pch=22, lty=2,col='black')
labels <- c("Fmale", "Male")
legend("topright",inset=0.05,title=NULL,labels,lty=c(1,2))
anova(mix)
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(y,tr1,tr2)
aov(y~tr1*tr1,data=mixdata)
anova(y~tr1*tr1,data=mixdata)
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(y,tr1,tr2)
results = lm(y ~ tr1 + tr2 + tr1*tr2, data=mixdata)
anova(results)
interaction.plot(tr1, tr2, y)
#####b
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(y,tr1,tr2)
results = lm(y ~ tr1 + tr2 + tr1*tr2+Error, data=mixdata)
anova(results)
interaction.plot(tr1, tr2, y)
#####b
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(y,tr1,tr2)
results = lm(y ~ tr1 + tr2 + tr1*tr2, data=mixdata)
anova(results)
interaction.plot(tr1, tr2, y)
aov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata)
ov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata,var.equal = TRUE)
aov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata,var.equal = TRUE)
tr1
warning()
warning()
tr2
tr1
#####b
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(y,tr1,tr2)
results = lm(y ~ tr1 + tr2 + tr1*tr2, data=mixdata)
anova(results)
y
y
y
tr1
tr2
mix=read.table('C:/Users/CongL_000/Dropbox/BME_file/0_2016_spring/Applied_stac/HW/HW4/CH19PR10.txt')
#####b
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(y,tr1,tr2)
results = lm(y ~ tr1 + tr2 + tr1*tr2, data=mixdata)
anova(results)
aov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata,var.equal = TRUE)
aov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata)
oneway.test(y~tr1,var.equal=TRUE)
aov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata,methods="qr")
aov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata,method="qr")
results=aov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata,method="qr")
summary.aov(results)
results=aov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata,model=TRUE)
summary.aov(results)
results=aov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata,model=FALSE)
summary.aov(results)
View(mixdata)
View(mixdata)
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
D <- expand.grid(A=tr1,B=tr2,C=y)
mixdata=data.frame(y,tr1,tr2)
results = lm(C ~ A + B + A*B, data=D)
anova(results)
d
D
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(y,tr1,tr2)
results = lm(y ~ tr1*tr2, data=mixdata)
anova(results)
mixdata
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(tr1,tr2,y)
results = lm(y ~ tr1*tr2, data=mixdata)
anova(results)
interaction.plot(tr1, tr2, y)
results=aov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata)
summary.aov(results)
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(tr1,tr2,y)
results = lm(y ~ tr2*tr1, data=mixdata)
anova(results)
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(tr1,tr2,y)
results = lm(y ~ tr2+tr1, data=mixdata)
anova(results)
results=aov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata)
summary.aov(results)
aov(y ~ tr1 + tr2 + tr1*tr2, data=mixdata)
#####b
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(factor(tr1),factor(tr2),y)
results = lm(y ~ tr1+tr2, data=mixdata)
anova(results)
mix
mixdata
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(factor(tr1),factor(tr2),y)
results = lm(y ~ factor.tr1+factor.tr2, data=mixdata)
anova(results)
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(a=factor(tr1),b=factor(tr2),y)
results = lm(y ~ a+b, data=mixdata)
anova(results)
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(a=factor(tr1),b=factor(tr2),y)
results = lm(y ~ a+b+a*b, data=mixdata)
anova(results)
model(mixdata$tr1)
mode(mixdata$tr1)
mode(mixdata$a)
mixdata=data.frame(a=factor(tr1),tr2),y)
mixdata=data.frame(a=factor(tr1),tr2,y)
mode(mixdata$tr2)
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(age=factor(tr1),gendor=factor(tr2),y)
results = lm(y ~ age+gendor+age*gendor, data=mixdata)
anova(results)
mix=read.table('C:/Users/CongL_000/Dropbox/BME_file/0_2016_spring/Applied_stac/HW/HW4/CH19PR14.txt')
mix
meanT=mean(mix[,1])
#############################################################################
####19.11###########
mix=read.table('C:/Users/CongL_000/Dropbox/BME_file/0_2016_spring/Applied_stac/HW/HW4/CH19PR10.txt')
Y11=mix[mix[,2]==1 & mix[,3]==1,]
Y12= mix[mix[,2]==1 & mix[,3]==2,]
Y21=mix[mix[,2]==2 & mix[,3]==1,]
Y22=mix[mix[,2]==2 & mix[,3]==2,]
Y31=mix[mix[,2]==3 & mix[,3]==1,]
Y32=mix[mix[,2]==3 & mix[,3]==2,]
meanij=rep(0.0,6)
meanij=matrix(meanij,ncol=2,byrow=T)
for(i in 1:3){
for (j in 1:2){
mean=colMeans(mix[mix[,2]==i & mix[,3]==j,])
meanij[i,j]=mean[1];
}
}
meani=rep(0,3)
for (i in 1:3){
mean=colMeans(mix[mix[,2]==i,],dims=1)
meani[i]=mean[1]
}
meanj=rep(0,2)
for (i in 1:2){
mean=colMeans(mix[mix[,3]==i,],dims=1)
meanj[i]=mean[1]
}
plot(1:3,meanij[,1],type='o',col='black',ylim = c(15,35),axes=FALSE,xlab='age',ylab='offer in hunderd dollars')
axis(1, at=1:3, lab=c("Yound","middle","old"))
axis(2, las=1, at=4*0:meanij[,1])
lines(1:3, meanij[,2],type ='o', pch=22, lty=2,col='black')
labels <- c("Fmale", "Male")
legend("topright",inset=0.05,title=NULL,labels,lty=c(1,2))
#####b
y=mix[,1]
tr1=mix[,2]
tr2=mix[,3]
mixdata=data.frame(age=factor(tr1),gendor=factor(tr2),y)
results = lm(y ~ age+gendor+age*gendor, data=mixdata)
anova(results)
mixdata=data.frame(as.factor(tr1),as.factor(tr2),y)
results = lm(y ~ tr1+tr2+tr1*tr2, data=mixdata)
anova(results)
mix.data
mixdata
mix=read.table('C:/Users/CongL_000/Dropbox/BME_file/0_2016_spring/Applied_stac/HW/HW4/CH19PR14.txt')
ntr1=3
ntr2=3
meanT=mean(mix[,1])
meanij=rep(0.0,ntr1*ntr2)
meanij=matrix(meanij,ncol=ntr2,byrow=T)
for(i in 1:ntr1){
for (j in 1:ntr2){
mean=colMeans(mix[mix[,2]==i & mix[,3]==j,])
meanij[i,j]=mean[1];
}
}
meani=rep(0,ntr1)
for (i in 1:ntr1){
mean=colMeans(mix[mix[,2]==i,],dims=1)
meani[i]=mean[1]
}
meanj=rep(0,ntr2)
for (i in 1:ntr2){
mean=colMeans(mix[mix[,3]==i,],dims=1)
meanj[i]=mean[1]
}
mean
meanT
meani
meanj
meanij
y=mix[,1]-meanT
y
mix[,1]
meanT
mix[mix[,1],]-meanij[1,1]
mix[mix[,1]==1,]-meanij[1,1]
mix[mix[,2]==1,]-meanij[1,1]
mix[mix[,2]==1,1]-meanij[1,1]
mix=read.table('C:/Users/CongL_000/Dropbox/BME_file/0_2016_spring/Applied_stac/HW/HW4/CH19PR14.txt')
ntr1=3
ntr2=3
n=4
redijk=array(0.0,ntr1*ntr2*n)
redijk
redijk=array(0.0,dim(ntr1*ntr2*n))
redijk=array(data=0,dim=(ntr1*ntr2*n))
redijk
redijk[1,1,1,1]
redijk[1,1,1]
redijk=array(data=0,dim=ntr1*ntr2*n)
redijk=array(data=0,dim=c(ntr1, ntr2, n)
)
resid.ijk=array(data=0,dim=c(ntr1, ntr2, n))
for(i in 1:ntr1){
for (j in 1:ntr2){
resid=mix[mix[,2]==i & mix[,3]==j,]-meanij[i,j]
resid.ijk[i,j,]=resid[1];
}
}
resid
mix[mix[,2]==1 & mix[,3]==1,1]-meanij[1,1]
resid.ijk=array(data=0,dim=c(ntr1, ntr2, n))
for(i in 1:ntr1){
for (j in 1:ntr2){
resid=mix[mix[,2]==i & mix[,3]==j,1]-meanij[i,j]
resid.ijk[i,j,1:n]=resid;
}
}
resid.ijk
plot(meanij,resid.ijk[,,1:4],type='o',col='black',xlab='age',ylab='offer in hunderd dollars')
resid.mean=array(data=0,dim=c(1,2))
for(i in 1:ntr1){
for (j in 1:ntr2){
Sraw=(i-1)*12+(j-1)*4+1
Eraw=Sraw+n-1
resid.mean[Sraw:Eraw,1:2]=c(meanin[i,j],resid.ijk[i,j,1:n])
}
}
for(i in 1:ntr1){
for (j in 1:ntr2){
Sraw=(i-1)*12+(j-1)*4+1
Eraw=Sraw+n-1
resid.mean[Sraw:Eraw,1:2]=c(meanij[i,j],resid.ijk[i,j,1:n])
}
}
for(i in 1:ntr1-n+1){
for (j in 1:ntr2-n+1){
Sraw=(i-1)*12+(j-1)*4+1
Eraw=Sraw+n-1
resid.mean[Sraw:Eraw,1:2]=c(meanij[i,j],resid.ijk[i,j,1:n])
}
}
for(i in 1:ntr1-n+1){
for (j in 1:ntr2-n+1){
Sraw=(i-1)*12+(j-1)*4+1
Eraw=Sraw+n-1
resid.mean[Sraw:Eraw,1:2]=c(rep(meanij[i,j],n),resid.ijk[i,j,1:n])
}
}
resid.mean=array(data=0,dim=c(ntr1*ntr2*n,2))
for(i in 1:ntr1){
for (j in 1:ntr2){
Sraw=(i-1)*12+(j-1)*4+1
Eraw=Sraw+n-1
resid.mean[Sraw:Eraw,1:2]=c(rep(meanij[i,j],n),resid.ijk[i,j,1:n])
}
}
resid.mean
plot(resid.mean[,1],resid.mean[,2],type='o',col='black',xlab='age',ylab='offer in hunderd dollars')
plot(resid.mean[,1],resid.mean[,2],type='p',col='black',xlab='age',ylab='offer in hunderd dollars')
plot(resid.mean[,1],resid.mean[,2],type='p',col='black',xlab='treatment means',ylab='residuals')
install.packages("swirl")
packageVersion("swirl")
library(swirl)
install_from_swirl("R Programming")
swirl()
5+7
x<-5+7
x
y<-x-3
y
z<-c(1.1,9,3.14)
?c
z
c(z,555)
c(z,555,z)
z*2+100
my_sqrt<-sqrt(z-1)
my_sqrt
my_div<-z/my_sqrt
my_div
c(1,2,3,4)+c(0,10)
c(1,2,3,4)+c(0,10,100)
c(1,2,3,4)+c(0,10,100)
z*2+1000
my_div
swirl()
load(swirl)
load(swril)
library(swirl)
swirl()
swirl()
getwd()
ls()
x<-9
ls()
list.files()
?list.files
args(list.files())
args(list.files
)
old.dir<-getwd()
dir.create("testdir")
setwd("testdir")
file.create("mytest.r")
file.create("mytest.R")
list.files(recursive=TRUE)
list.files()
file.exists("mytest.R")
file.info(mytest.R)
file.info("mytest.R")
file.rename("mytest.R", "mytest2.R")
file.copy("mytest2.R","mytest3.R")
file.path("mytest3.R")
file.path("folder1",'folder2')
?dir.create
dir.create(file.path("testdir2"."testdir3"))
dir.create(file.path("testdir2","testdir3"))
dir.create(file.path("testdir2","testdir3"), recursive = TRUE)
unlink("testdir2".recursive=FALSE)
unlink("testdir2",recursive=FALSE)
unlink("testdir2",recursive=TRUE)
setwd(old.dir)
unlink("testdir", recursive = TRUE)
1:20
pi:10
15:1
?:
?":"
seq(1,20)
seq(0,10,by=0.5)
seq(5,10,length=30)
my_seq<-seq(5,10,length=30)
length(my_seq)
1:length(my_seq)
seq(along.with=my_seq)
seq_along(my_seq)
rep(0,times=40)
rep(c(0,1,2),times=40)
rep(c(0,1,2),times=10)
rep(c(0,1,2),each=10)
num_vect<-c(0.5,55,-10,6)
tf<-num_vect[num_vect<1]
tf<-num_vect<1
tf
num_vect>=6
my_char<-c("My","name","is")
my_char
paste(my_char,collapse='')
paste(my_char,collapse="")
paste(my_char,collapse=" ")
my_name<-c(my_char,"Linlin Cong")
my_name
paste(my_name,collapse=" ")
paste("Hello", "wordl!",sep=" ")
paste("Hello", "world!",sep=" ")
paste(1:3, c("X","Y","Z"),sep=" ")
paste(1:3, c("X","Y","Z"),sep="")
paste(LETTERS, 1:4, sep = "-")
x<-c(44,nNA,5,NA)
x<-c(44,NA,5,NA)
x*3
y<-rnorm(1000)
z<-rep(NA,1000)
my_data<-sample(c(y,z),100)
play()
sample(10)
sample(11)
sample(1:6,4, replace=TRUE,prob=c(.2,.2...))
sample(1:6,4, replace=TRUE,prob=c(.2,.2,.2,.4))
sample(1:6,4, replace=TRUE,prob=c(.2,.2,.2,.2,.2,.2))
nxt()
my_na<-is.na(my_data)
my_na
my_data==NA
sum(my_na)
my_data
0/0
inf-inf
Inf-Inf
x
x[1:10]
x[in.na(x)]
x[is.na(x)]
y<-x[!is.na(x)]
y
y[y>0]
x[x>0]
x[!in.na(x) & x>0]
x[!is.na(x) & x>0]
x[x(3,5,70)]
x[x(3,5,7)]
x[c(3,5,7)]
x[0]
x[3000]
x[-c(2,10)]
x[c(-2,-10)]
x[-c(2,10)]
vect<-c(foo=11,bar=2,norf=NA)
vect
names(vect)=c("foo","bar","norf")
names(vect)
vect2<-c(11,2,NA)
names(vect2)=c("foo","bar","norf")
names(vect2)<-c("foo","bar","norf")
identical("vect","vect2")
identical(vect,vect2)
vect["bar"]
vect[c("foo","bar")]
my_vector<-1:20
my_vector
dim(my_vrctor)
dim(my_vector)
length(my_vector)
dim(my_vector)<-c(4.5)
dim(my_vector)<-c(4,5)
dim(my_vector)
attributes(my_vector)
my_vector
class(my_vector)
my_matrix<-my_vector
?"matrix"
?matrix
my_matrix2<-matrix(1:20,dim=c(4,5))
my_matrix2<-matrix(1:20,nrow=4,ncol = 5)
identical(my_matrix,my_matrix)
identical(my_matrix,my_matrix2)
c <- c("Bill", "Gina","Kelly","Sean")
patients <- c("Bill", "Gina","Kelly","Sean")
cbind(patients, my_matrix)
my_data<-data.frame(patients, my_matrix)
my_data
class(my_data)
cnames<-c("patient","age","weight","bp","rating","test")
colnames(my_data)<-cnames
my_data
setwd("~/")
cd datasciencecoursera
setwd("C:/Users/CongL_000/datasciencecoursera")
setx PATH %PATH%;C:\somepath
